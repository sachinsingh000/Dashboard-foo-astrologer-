import 'package:flutter/gestures.dart';import 'package:flutter/material.dart';import 'package:sizer/sizer.dart';import '../../../core/app_export.dart';import '../../../widgets/custom_icon_widget.dart';class TermsAgreementSection extends StatelessWidget {  final bool isAgreed;  final ValueChanged<bool> onAgreementChanged;  const TermsAgreementSection({    super.key,    required this.isAgreed,    required this.onAgreementChanged,  });  @override  Widget build(BuildContext context) {    final theme = Theme.of(context);    return Container(      padding: EdgeInsets.all(4.w),      decoration: BoxDecoration(        color: theme.colorScheme.surface,        borderRadius: BorderRadius.circular(16),        border: Border.all(          color: theme.colorScheme.outline.withValues(alpha: 0.2),          width: 1,        ),      ),      child: Column(        crossAxisAlignment: CrossAxisAlignment.start,        children: [          Text(            'Terms & Conditions',            style: theme.textTheme.titleMedium?.copyWith(              fontWeight: FontWeight.w600,              color: theme.colorScheme.primary,            ),          ),          SizedBox(height: 2.h),          // Agreement Checkbox          Row(            crossAxisAlignment: CrossAxisAlignment.start,            children: [              Transform.scale(                scale: 1.2,                child: Checkbox(                  value: isAgreed,                  onChanged: (value) => onAgreementChanged(value ?? false),                  materialTapTargetSize: MaterialTapTargetSize.shrinkWrap,                ),              ),              SizedBox(width: 2.w),              Expanded(                child: RichText(                  text: TextSpan(                    style: theme.textTheme.bodyMedium?.copyWith(                      height: 1.4,                    ),                    children: [                      TextSpan(                        text: 'I agree to the ',                        style: TextStyle(                          color: theme.colorScheme.onSurface,                        ),                      ),                      TextSpan(                        text: 'Terms of Service',                        style: TextStyle(                          color: theme.colorScheme.primary,                          fontWeight: FontWeight.w600,                          decoration: TextDecoration.underline,                        ),                        recognizer: TapGestureRecognizer()                          ..onTap = () => _showTermsDialog(context),                      ),                      TextSpan(                        text: ' and ',                        style: TextStyle(                          color: theme.colorScheme.onSurface,                        ),                      ),                      TextSpan(                        text: 'Privacy Policy',                        style: TextStyle(                          color: theme.colorScheme.primary,                          fontWeight: FontWeight.w600,                          decoration: TextDecoration.underline,                        ),                        recognizer: TapGestureRecognizer()                          ..onTap = () => _showPrivacyDialog(context),                      ),                      TextSpan(                        text:                        '. I understand that my profile will be reviewed before activation.',                        style: TextStyle(                          color: theme.colorScheme.onSurface,                        ),                      ),                    ],                  ),                ),              ),            ],          ),          SizedBox(height: 2.h),          // Additional Information          Container(            padding: EdgeInsets.all(3.w),            decoration: BoxDecoration(              color: theme.colorScheme.primaryContainer.withValues(alpha: 0.1),              borderRadius: BorderRadius.circular(8),            ),            child: Row(              crossAxisAlignment: CrossAxisAlignment.start,              children: [                CustomIconWidget(                  iconName: 'info_outline',                  size: 16,                  color: theme.colorScheme.primary,                ),                SizedBox(width: 2.w),                Expanded(                  child: Text(                    'By creating an account, you join our community of professional astrologers. Your profile will undergo verification before going live.',                    style: theme.textTheme.bodySmall?.copyWith(                      color: theme.colorScheme.primary,                      height: 1.3,                    ),                  ),                ),              ],            ),          ),        ],      ),    );  }  void _showTermsDialog(BuildContext context) {    showDialog(      context: context,      builder: (context) => AlertDialog(        title: const Text('Terms of Service'),        content: SingleChildScrollView(          child: Column(            crossAxisAlignment: CrossAxisAlignment.start,            mainAxisSize: MainAxisSize.min,            children: [              Text(                'AstroPro Provider Terms of Service',                style: Theme.of(context).textTheme.titleMedium?.copyWith(                  fontWeight: FontWeight.w600,                ),              ),              SizedBox(height: 2.h),              const Text(                '1. Service Agreement\n'                    'By registering as an astrologer on AstroPro, you agree to provide professional consultation services to clients through our platform.\n\n'                    '2. Professional Standards\n'                    'You must maintain high professional standards and provide accurate, ethical guidance to all clients.\n\n'                    '3. Commission Structure\n'                    'AstroPro charges a platform fee of 20% on all earnings. Payments are processed weekly.\n\n'                    '4. Account Verification\n'                    'All astrologer profiles undergo verification. False information may result in account suspension.\n\n'                    '5. Client Confidentiality\n'                    'All client information and consultation details must remain confidential.\n\n'                    '6. Availability Requirements\n'                    'Maintain accurate availability status and respond to consultation requests promptly.',              ),            ],          ),        ),        actions: [          TextButton(            onPressed: () => Navigator.pop(context),            child: const Text('Close'),          ),        ],      ),    );  }  void _showPrivacyDialog(BuildContext context) {    showDialog(      context: context,      builder: (context) => AlertDialog(        title: const Text('Privacy Policy'),        content: SingleChildScrollView(          child: Column(            crossAxisAlignment: CrossAxisAlignment.start,            mainAxisSize: MainAxisSize.min,            children: [              Text(                'AstroPro Privacy Policy',                style: Theme.of(context).textTheme.titleMedium?.copyWith(                  fontWeight: FontWeight.w600,                ),              ),              SizedBox(height: 2.h),              const Text(                '1. Information Collection\n'                    'We collect personal information including name, email, phone number, and professional credentials for account verification.\n\n'                    '2. Data Usage\n'                    'Your information is used to verify your identity, process payments, and facilitate client consultations.\n\n'                    '3. Data Protection\n'                    'All personal data is encrypted and stored securely. We never share your information with third parties without consent.\n\n'                    '4. Communication\n'                    'We may send notifications about consultation requests, earnings, and platform updates.\n\n'                    '5. Data Retention\n'                    'Account data is retained as long as your account is active. You may request data deletion at any time.\n\n'                    '6. Cookies\n'                    'We use cookies to improve app performance and user experience.',              ),            ],          ),        ),        actions: [          TextButton(            onPressed: () => Navigator.pop(context),            child: const Text('Close'),          ),        ],      ),    );  }}